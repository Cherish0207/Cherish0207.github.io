(function(t){function e(e){for(var o,a,s=e[0],l=e[1],c=e[2],u=0,d=[];u<s.length;u++)a=s[u],n[a]&&d.push(n[a][0]),n[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);h&&h(e);while(d.length)d.shift()();return r.push.apply(r,c||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],o=!0,s=1;s<i.length;s++){var l=i[s];0!==n[l]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var o={},n={index:0},r=[];function a(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=o,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var h=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("c31f")},1:function(t,e){},2:function(t,e){},"20ab":function(t,e,i){"use strict";var o=i("7b4c"),n=i.n(o);n.a},"2d80":function(t,e,i){},"4f63":function(t,e,i){"use strict";var o=i("ae42"),n=i.n(o);n.a},"7b4c":function(t,e,i){},"7f31":function(t,e,i){"use strict";var o=i("2d80"),n=i.n(o);n.a},ae42:function(t,e,i){},c31f:function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var o=i("795b"),n=i.n(o),r=i("2b0e"),a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app"},[i("div",{staticClass:"btn"},[i("button",{on:{click:function(e){t.view="large-list"}}},[t._v("large-list")]),i("button",{on:{click:function(e){t.view="small-list"}}},[t._v("small-list")])]),i("keep-alive",["large-list"===t.view?i("large-li"):t._e(),"small-list"===t.view?i("small-li"):t._e()],1)],1)},s=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"largelist-demo"},[i("large-list",{attrs:{showTitle:!1,titleHeight:t.titleHeight,showScroller:!1,contentHeight:t.contentHeight,contentWidth:t.contentWidth,theme:t.theme,objReqParam:t.objReqParam,fieldsConfig:t.fieldsConfig},on:{"right-click":t.rightclick,"dbl-click":t.dblclick,"left-click":t.leftclick,fieldsConfigChange:t.fieldsConfigChange}})],1)},c=[],h=(i("ac6a"),i("e814")),u=i.n(h),d=(i("c5f6"),1e-8),f=function(t,e,i,o,n,r){var a=Number(t);if((null==t||isNaN(a)||a===1/0||a===-1/0)&&!1!==o)return"string"===typeof o?o:"--";var s=Math.abs(a),l=a;return i=i||"",e=null!=e?e:2,i&&(i.indexOf("B")>=0&&s>=1e9?(i="B",a/=1e9):i.indexOf("万亿")>=0&&s>=1e12?(i="万亿",a/=1e12):i.indexOf("亿")>=0&&s>=1e8?(i="亿",a/=1e8):i.indexOf("M")>=0&&s>=1e6?(i="M",a/=1e6):i.indexOf("万")>=0&&s>=1e4?(i="万",a/=1e4):i.indexOf("K")>=0&&s>=1e3?(i="K",a/=1e3):100===i?(i="",a/=100):"%"===i?a*=100:i=""),a===l&&!0===n&&(e=0),r&&(a=Math.abs(a)),(a+d).toFixed(e)+i},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return f(t,e)},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return o||(o=1),null!=t&&(t/=o),i&&t>0?"+"+f(t,e):f(t,e)},b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["","stock-up","stock-down"];return!i||i.length<=2?"":t>e?i[1]:t<e?i[2]:i[0]},p=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return e||(e=1),null!=t&&(t/=e),f(t,i,"万亿",!0,!0)};function v(t,e,i){var o;return function(){var n=this,r=arguments,a=function(){o=null,i||t.apply(n,r)},s=i&&!o;window.clearTimeout(o),o=window.setTimeout(a,e),s&&t.apply(n,r)}}function C(t,e,i){var o,n=new Date;return function(){var r=this,a=arguments,s=new Date;window.clearTimeout(o),s-n>=i?(t.apply(r,a),n=s):o=window.setTimeout(t,e)}}function w(t,e){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1}var y={formatPrice:m,formatStockText:f,formatColor:b,formatRatio:g,formatVolume:p,debounce:v,throttle:C,oneOf:w},x={tableTitleColor:"#222",tableTitleBgColor:"#f3f8ff",tableTitleBdColor:"#aec1da",tableContentColor:"#222",tableContentBgColor:"#fff",tableContentHoverBgColor:"#ecf2ff",tableContentActiveBgColor:"#d0e1f1",tableContentBdColor:"#dfe4ea",scrollerBgColor1:"#b9c9de",scrollerBgColor2:"#e7e7ec",scrollerBgColor3:"#fff",volColor:"#3e6ac5",greenColor:"#1ca049",redColor:"#ee2c2c",dynaComponentDynaColor:"#ff8850",normalColor:"#9aa4b4"},k=[{field:"XuHao",title:"序号",width:90,fixed:!0,titleAlign:"center",contentAlign:"left",textColor:x.normalColor},{field:"Obj",title:"代码",width:90,titleAlign:"left",contentAlign:"left",fixed:!0},{field:"ZhongWenJianCheng",title:"名称",width:100,fixed:!0},{field:"ZuiXinJia",title:"最新",width:90,updownStyle:!0,highlightPolicy:"updown"},{field:"ZhangDie",title:"涨跌",width:90,updownStyle:!0,highlightPolicy:"updown"},{field:"ZhangFu",title:"涨幅%",width:90,updownStyle:!0,titleAlign:"left",highlightPolicy:"updown"},{field:"ChengJiaoLiang",title:"总手",width:110,unit:"万/亿",textColor:x.volColor},{field:"HuanShou",title:"换手率%",width:90,textColor:x.volColor},{field:"XianShou",title:"现手",width:90,isVolume:!0,isAutoPrec:!0,unit:"万/亿",strategy:"xianshou"},{field:"ChengJiaoE",title:"成交额",width:90,isAutoPrec:!0,unit:"万/亿",textColor:x.volColor},{field:"FenZhongZhangFu5",title:"涨速%",width:90,updownStyle:!0,highlightPolicy:"updown",precision:2},{field:"ZuoShou",title:"昨收",width:90},{field:"KaiPanJia",title:"开盘",width:90,updownStyle:!0,compareField:"ZuoShou"},{field:"ZuiGaoJia",title:"最高价",width:90,updownStyle:!0,compareField:"ZuoShou"},{field:"ZuiDiJia",title:"最低价",width:90,updownStyle:!0,compareField:"ZuoShou"},{field:"HangYe",title:"行业",width:90},{field:"ShiYingLv",title:"市盈率",width:90,textColor:x.dynaComponentDynaColor,format:function(t,e){var i=e.field,o=y.formatPrice(t[i]),n=t[i+"_format"]||o||"--",r=t["BaoGaoQi"];if(null!=o&&null!=r){var a=r.slice(4,6)-0,s=u()(a/4);return n+["①","②","③","④"][s]}return n}},{field:"ShiJingLv",title:"市净率",width:90,textColor:x.dynaComponentDynaColor,format:function(t){return y.formatPrice(t.ShiJingLv,null,!1)}},{field:"ShiXiaoLv",title:"市销率",width:90,textColor:x.dynaComponentDynaColor,format:function(t,e){var i=e.field,o=y.formatPrice(t[i]),n=t[i+"_format"]||o||"--",r=t["BaoGaoQi"];if(null!=o&&null!=r){var a=r.slice(4,6)-0,s=u()(a/4);return n+["①","②","③","④"][s]}return n}},{field:"WeiTuoMaiRuJia1",title:"委买价",width:90,updownStyle:!0,compareField:"ZuoShou",highlightPolicy:"updown"},{field:"WeiTuoMaiChuJia1",title:"委卖价",width:90,updownStyle:!0,compareField:"ZuoShou",highlightPolicy:"updown"},{field:"NeiPan",title:"内盘",width:90,isVolume:!0,isAutoPrec:!0,unit:"万/亿",textColor:x.greenColor,isAbs:!0},{field:"WaiPan",title:"外盘",width:90,isVolume:!0,isAutoPrec:!0,unit:"万/亿",textColor:x.redColor,isAbs:!0},{field:"ZhenFu",title:"振幅%",width:90,textColor:x.volColor,precision:2},{field:"LiangBi",title:"量比",width:90,textColor:x.volColor,precision:2},{field:"JunJia",title:"均价",width:90,updownStyle:!0,compareField:"ZuoShou"},{field:"WeiBi",title:"委比%",width:90,updownStyle:!0,precision:2},{field:"WeiCha",title:"委差",width:90,updownStyle:!0,isAutoPrec:!0,unit:"万/亿"},{field:"ZongShiZhi",title:"总市值",width:90,isAutoPrec:!0,unit:"万/亿",ratio:1e4,textColor:x.dynaComponentDynaColor},{field:"LiuTongShiZhi",title:"流通市值",width:90,isAutoPrec:!0,unit:"万/亿",ratio:1e4,textColor:x.dynaComponentDynaColor},{field:"BaoGaoQi",invisible:!0},{field:"LeiXing",invisible:!0},{field:"RongZiRongQuanBiaoJi",invisible:!0},{field:"LiuTongAGu",invisible:!0},{field:"XiaoShuWei",invisible:!0},{field:"ChengJiaoLiangDanWei",invisible:!0},{field:"WeiTuoMaiRuJia1",invisible:!0},{field:"WeiTuoMaiChuJia1",invisible:!0}],S={};k.forEach(function(t){t.invisible||(S[t.field]=t.title)});var j={name:"largelist-demo",data:function(){return{theme:x,fieldsConfig:k,contentHeight:0,contentWidth:document.documentElement.clientWidth,titleHeight:40,objReqParam:{gql:"block=市场/沪深市场/上证A股",field:"ZhongWenJianCheng"}}},created:function(){var t=this;this.contentHeight=document.documentElement.clientHeight-this.titleHeight,this.resizeFunc=this.$Utils.debounce(function(){t.contentHeight=document.documentElement.clientHeight-t.titleHeight,t.contentWidth=document.documentElement.clientWidth},300),window.addEventListener("resize",this.resizeFunc)},methods:{rightclick:function(t){console.log("right-click",t)},dblclick:function(t){console.log("dbl-click",t)},leftclick:function(t){console.log("left-click",t)},fieldsConfigChange:function(t){this.fieldsConfig=t}},beforeDestroy:function(){window.removeEventListener("resize",this.resizeFunc)}},D=j,L=(i("20ab"),i("2877")),O=Object(L["a"])(D,l,c,!1,null,null,null),B=O.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"smallist-demo"},[i("small-list",{attrs:{showTitle:!0,showScroller:!1,height:50,theme:t.theme,fields:t.fields,title:t.title,titleAlign:t.titleAlign},on:{"right-click":t.rightclick,"dbl-click":t.dblclick,"left-click":t.leftclick}},[i("template",{slot:"loading"},[i("p",[t._v("loading content")])])],2)],1)},T=[],F={name:"smallist-demo",data:function(){return{fields:["ZhongWenJianCheng","ZuiXinJia","ZhangFu"],titleAlign:"left",theme:x,title:S}},methods:{rightclick:function(t){console.log("right-click",t)},dblclick:function(t){console.log("dbl-click",t)},leftclick:function(t){console.log("left-click",t)}}},A=F,Z=(i("e9f1"),Object(L["a"])(A,E,T,!1,null,null,null)),_=Z.exports,M={data:function(){return{view:"large-list"}},components:{largeLi:B,smallLi:_}},J=M,H=(i("7f31"),Object(L["a"])(J,a,s,!1,null,"2a61a04e",null)),R=H.exports,I=(i("7f7f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"large-list"},[i("div",{staticClass:"table-scroll",style:{width:t.totalWidth+"px"}},[i("div",{staticClass:"table-title",style:{backgroundColor:t.theme.tableTitleBgColor,color:t.theme.tableTitleColor,borderBottom:"1px solid "+t.theme.tableTitleBdColor,borderTop:"1px solid "+t.theme.tableTitleBdColor,height:(t.titleHeight||30)+"px"}},[i("div",{style:{width:t.fixedWidth+"px",height:(t.titleHeight||30)+"px",lineHeight:(t.titleHeight||30)+"px"}},t._l(t.fixedFields,function(e,o){return i("span",{key:o,staticClass:"th",style:(e.titleAlign?"text-align:"+e.titleAlign+";":"")+"width:"+(e.width||90)+"px; background-color: "+t.theme.tableTitleBgColor+"; border-right: 1px solid "+t.theme.tableTitleBdColor+";",attrs:{name:e.field},on:{click:t.reSort}},[t._v("\n          "+t._s(e.title)+"\n          "),t.ORDERBY===e.field?i("i",{class:"iconfont icon-arrow-"+(2===t.DESC?"up":"")+(1===t.DESC?"down":"")}):t._e(),i("i",{staticClass:"width-changer",on:{mousedown:function(e){return t.widthChanging(e,o)}}})])}),0),i("div",{style:{width:t.conWidth+"px",left:t.fixedWidth-t.x+"px",height:(t.titleHeight||30)+"px",lineHeight:(t.titleHeight||30)+"px"},on:{dragstart:t.dragStart,drag:t.dragging,dragend:t.dragEnd,drop:t.drop}},t._l(t.conFields,function(e,o){return i("span",{key:o,staticClass:"th",style:(e.titleAlign?"text-align:"+e.titleAlign+";":"")+"width:"+(e.width||90)+"px; background-color: "+t.theme.tableTitleBgColor+"; border-right: 1px solid "+t.theme.tableTitleBdColor+";",attrs:{name:e.field,draggable:"true"},on:{click:t.reSort}},[t._v("\n          "+t._s(e.title)+"\n          "),t.ORDERBY===e.field?i("i",{class:"iconfont icon-arrow-"+(2===t.DESC?"up":"")+(1===t.DESC?"down":"")}):t._e(),i("i",{staticClass:"width-changer",style:{cursor:t.cursor},on:{mousedown:function(e){return t.widthChanging(e,o+t.fixedFields.length)}}})])}),0)]),t.dataList[0]?i("div",{staticClass:"table-content",style:{backgroundColor:t.theme.tableContentBgColor,color:t.theme.tableContentColor,height:t.contentHeight+"px"},on:{"&mousewheel":function(e){return t.mousewheel(e)}}},t._l(t.dataList,function(e,o){return i("div",{key:o,staticClass:"table-item",style:{height:t.itemHeight+"px",lineHeight:t.itemHeight+"px",borderBottom:"1px solid "+t.theme.tableContentBdColor,backgroundColor:t.focusedObj===e.Obj?t.theme.tableContentActiveBgColor:t.hoverObj===e.Obj?t.theme.tableContentHoverBgColor:t.theme.tableContentBgColor},attrs:{name:e.Obj},on:{contextmenu:function(t){t.preventDefault()},mouseup:function(i){return t.mouseup(i,e.Obj)},mouseover:function(i){t.hoverObj=e.Obj},mouseleave:function(e){t.hoverObj=""}}},[i("list-cell",{staticClass:"item-fixed",style:{width:t.fixedWidth+"px",backgroundColor:t.focusedObj===e.Obj?t.theme.tableContentActiveBgColor:t.hoverObj===e.Obj?t.theme.tableContentHoverBgColor:t.theme.tableContentBgColor},attrs:{Fields:t.fixedFields,theme:t.theme,item:e,index:o,start:t.start}}),i("list-cell",{staticClass:"item-unfixed",style:{width:t.conWidth+"px",left:t.fixedWidth-t.x+"px",backgroundColor:t.focusedObj===e.Obj?t.theme.tableContentActiveBgColor:t.hoverObj===e.Obj?t.theme.tableContentHoverBgColor:t.theme.tableContentBgColor},attrs:{Fields:t.conFields,theme:t.theme,item:e,index:o,start:t.start,lastData:e.lastData}})],1)}),0):i("div",{staticClass:"table-content",style:{height:t.contentHeight+"px"}},t._l(t.dataList,function(e,o){return i("div",{key:o,staticClass:"table-item",style:{height:t.itemHeight+"px",lineHeight:t.itemHeight+"px"}},[i("div",{staticClass:"item-fixed",style:{backgroundColor:t.theme.tableContentBgColor},attrs:{Fields:t.fixedFields,theme:t.theme,item:e,index:o,start:t.start}},t._l(t.fixedFields,function(e,o){return i("span",{key:o,style:(e.contentAlign?"text-align:"+e.contentAlign+";":"")+"width: "+(e.width||90)+"px;"+(e.textColor?"color: "+e.textColor+";":"")+"border-right:1px solid "+t.theme.tableContentBdColor+";",attrs:{name:e.field}},[t._v("--\n          ")])}),0),i("div",{staticClass:"item-unfixed",style:{height:t.itemHeight+"px",lineHeight:t.itemHeight+"px",width:t.conWidth+"px",left:t.fixedWidth-t.x+"px",backgroundColor:t.theme.tableContentBgColor}},t._l(t.conFields,function(e,o){return i("span",{key:o,style:(e.contentAlign?"text-align:"+e.contentAlign+";":"")+"width: "+(e.width||90)+"px;"+(e.textColor?"color: "+e.textColor+";":"")+"border-right:1px solid "+t.theme.tableContentBdColor+";",attrs:{name:e.field}},[t._v("--\n          ")])}),0)])}),0)]),i("div",{staticClass:"table-scroller",style:{backgroundColor:t.theme.scrollerBgColor2,color:t.theme.scrollerBgColor2,height:t.contentHeight+t.titleHeight-9+"px"}},[i("div",{staticClass:"scroller-top",style:{backgroundColor:t.theme.scrollerBgColor1}},[i("i",{style:{borderColor:"transparent transparent"+t.theme.scrollerBgColor3+" transparent"}})]),i("div",{staticClass:"scroller-bottom",style:{backgroundColor:t.theme.scrollerBgColor1},attrs:{id:"scrollerBottom"}},[i("i",{style:{borderColor:t.theme.scrollerBgColor3+" transparent transparent transparent"}})]),i("div",{staticClass:"scroller-scrolling",style:{backgroundColor:t.theme.scrollerBgColor1},attrs:{id:"scroller"},on:{mousedown:t.scrolling}})]),i("div",{staticClass:"table-scroller-lr",style:{backgroundColor:t.theme.scrollerBgColor2,width:t.contentWidth-9+"px"},attrs:{id:"scrollLR"}},[i("div",{staticClass:"scroller-left",style:{backgroundColor:t.theme.scrollerBgColor1}},[i("i",{style:{borderColor:"transparent "+t.theme.scrollerBgColor3+" transparent transparent"}})]),i("div",{staticClass:"scroller-right",style:{backgroundColor:t.theme.scrollerBgColor1},attrs:{id:"scrollerRight"}},[i("i",{style:{borderColor:"transparent transparent transparent "+t.theme.scrollerBgColor3}})]),i("div",{ref:"scrollerLR",staticClass:"scroller-scrolling",style:{left:t.scrollLRLeft+"px",backgroundColor:t.theme.scrollerBgColor1},on:{mousedown:t.scrollingLR}})])])}),W=[],P=(i("96cf"),i("3b8d")),X=(i("7514"),i("5176")),q=i.n(X),N=i("f499"),$=i.n(N),Y=(i("20d6"),i("d263"),1e-8),Q=function(t,e,i,o,n,r){var a=Number(t);if((null==t||isNaN(a)||a===1/0||a===-1/0)&&!1!==o)return"string"===typeof o?o:"--";var s=Math.abs(a),l=a;return i=i||"",e=null!=e?e:2,i&&(i.indexOf("B")>=0&&s>=1e9?(i="B",a/=1e9):i.indexOf("万亿")>=0&&s>=1e12?(i="万亿",a/=1e12):i.indexOf("亿")>=0&&s>=1e8?(i="亿",a/=1e8):i.indexOf("M")>=0&&s>=1e6?(i="M",a/=1e6):i.indexOf("万")>=0&&s>=1e4?(i="万",a/=1e4):i.indexOf("K")>=0&&s>=1e3?(i="K",a/=1e3):100===i?(i="",a/=100):"%"===i?a*=100:i=""),a===l&&!0===n&&(e=0),r&&(a=Math.abs(a)),(a+Y).toFixed(e)+i},z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Q(t,e)},V=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return o||(o=1),null!=t&&(t/=o),i&&t>0?"+"+Q(t,e):Q(t,e)},G=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["","stock-up","stock-down"];return!i||i.length<=2?"":t>e?i[1]:t<e?i[2]:i[0]},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return e||(e=1),null!=t&&(t/=e),Q(t,i,"万亿",!0,!0)};function U(t,e,i){var o;return function(){var n=this,r=arguments,a=function(){o=null,i||t.apply(n,r)},s=i&&!o;window.clearTimeout(o),o=window.setTimeout(a,e),s&&t.apply(n,r)}}function tt(t,e,i){var o,n=new Date;return function(){var r=this,a=arguments,s=new Date;window.clearTimeout(o),s-n>=i?(t.apply(r,a),n=s):o=window.setTimeout(t,e)}}function et(t,e){for(var i=0;i<e.length;i++)if(t===e[i])return!0;return!1}var it={formatPrice:z,formatStockText:Q,formatColor:G,formatRatio:V,formatVolume:K,debounce:U,throttle:tt,oneOf:et},ot=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",t._l(t.Fields,function(e,o){return i("span",{key:o,style:(e.contentAlign?"text-align:"+e.contentAlign+";":"")+"width: "+(e.width||90)+"px;"+(e.textColor?"color: "+e.textColor+";":"")+t.item[e.field+"Style"]+";border-right:1px solid "+t.theme.tableContentBdColor+";"+t.getColor(e),attrs:{name:e.field}},[[t._v(t._s(t.item&&t.format(e)||"--"))]],2)}),0)},nt=[],rt={name:"list-cell",props:{Fields:{type:Array,required:!0},theme:{type:Object,required:!0},item:{type:Object,required:!0},index:{type:Number,required:!0},start:{type:Number,required:!0},lastData:{type:Object,required:!1}},methods:{getColor:function(t){var e="",i=t.textColor,o=t.updownStyle,n=t.compareField,r=t.field,a=t.strategy,s=this.item,l=s.ZuiXinJia,c=s.ZuoShou;if(i)e=i;else if(!0===o){if(n=n||"ZuoShou","ZuoShou"===n){var h=0;["ZuiXinJia","KaiPanJia","ZuiGaoJia","ZuiDiJia","WeiTuoMaiRuJia1","WeiTuoMaiChuJia1","JunJia"].indexOf(r)>-1?h=this.item[r]-c:["ZuiXinJia","ZhangFu","ZhangDie"].indexOf(r)>-1?h=l-c:["ZhangSu","WeiCha","WeiBi","FenZhongZhangFu5"].indexOf(r)>-1&&(h=this.item[r]),e=h>0?this.theme.redColor:h<0?this.theme.greenColor:this.theme.normalColor}}else{if("xianshou"!==a)return"";e=this.theme.normalColor,this.lastData&&(this.item.ZuiXinJia<=this.lastData.WeiTuoMaiRuJia1?e=this.theme.greenColor:this.item.ZuiXinJia>=this.lastData.WeiTuoMaiChuJia1?e=this.theme.redColor:this.item.ZuiXinJia===this.lastData.ZuiXinJia?e=this.theme.normalColor:this.item.ZuiXinJia>this.lastData.ZuiXinJia?e=this.theme.redColor:this.item.ZuiXinJia<this.lastData.ZuiXinJia&&(e=this.theme.greenColor))}return"color:".concat(e,";")},format:function(t){if(!this.item||"{}"===$()(this.item)||!t.field)return"--";var e=t.field,i=t.unit,o=t.ratio,n=t.format,r=t.precision,a=this.item[e];if(n)return t.format(this.item,t);switch(o&&(a*=o),e){case"XuHao":a=this.start+this.index+1;break;case"Obj":a=(this.item.Obj||"").slice(2)||"--";break;case"ZhongWenJianCheng":case"HangYe":break;case"ZuiXinJia":case"ZuoShou":case"KaiPanJia":case"ZuiGaoJia":case"ZuiDiJia":case"WeiTuoMaiRuJia1":case"WeiTuoMaiChuJia1":case"JunJia":case"ZhangFu":case"FenZhongZhangFu5":case"WeiBi":case"HuanShou":a=this.formatPrice(a,r);break;case"ZhangDie":a=this.formatPrice(a,r,!0);break;case"ShiYingLv":case"ShiJingLv":case"ShiXiaoLv":a=this.formatPrice(a,null,!1);break;case"ChengJiaoLiang":case"XianShou":a=this.formatVolume(a,100,2);break;case"NeiPan":case"WaiPan":a=this.formatStockText(a/100,2,i,!0,!0,!0);break;case"ChengJiaoE":case"ZongShiZhi":case"LiuTongShiZhi":case"WeiCha":a=this.formatVolume(a,1,2);break;default:a=this.formatPrice(a);break}return a},formatStockText:it.formatStockText,formatPrice:it.formatPrice,formatRatio:it.formatRatio,formatColor:it.formatColor,formatVolume:it.formatVolume}},at=rt,st=Object(L["a"])(at,ot,nt,!1,null,null,null),lt=st.exports,ct={name:"large-list",data:function(){var t=Math.ceil((this.contentHeight-10)/30),e=new Array(t),i=(this.contentHeight-10)/t;return{objList:[],dataList:e,cacheData:{},DESC:0,ORDERBY:"",start:0,count:t,itemHeight:i,focusedObj:"",hoverObj:"",x:0,cache_x:0,count_x:0,addx:0,topMax:0,leftMax:0,activeIndex:null,scrollLRLeft:10,i:0,cursor:"e-resize"}},components:{ListCell:lt},props:{fieldsConfig:{type:Array,required:!0},theme:{type:Object,required:!0},objReqParam:{type:Object,default:function(){return{gql:"block=市场/沪深市场/沪深A股",field:"ZhongWenJianCheng"}}},desc:{type:Number,default:0},orderby:{type:String,default:"ZhangFu"},showTitle:{type:Boolean,default:!0},titleHeight:{type:Number,default:30},showScroller:{type:Boolean,default:!0},contentHeight:{type:Number,default:700},contentWidth:{type:Number,default:700}},watch:{contentHeight:function(t){var e=this.count;this.count=Math.ceil((t-10)/29),this.count!==e&&(this.itemHeight=(t-10)/this.count,this.updateDataList())},objReqParam:function(t){this.cancelAll(),this.init()}},computed:{totalWidth:function(){return this.fixedWidth+this.conWidth},fixedFields:function(){return this.fieldsConfig.filter(function(t){return t.fixed&&!0!==t.invisible})},fixedWidth:function(){var t=0;return this.fixedFields.forEach(function(e){t+=e.width||90}),t},conFields:function(){return this.fieldsConfig.filter(function(t){return!t.fixed&&!0!==t.invisible})},conWidth:function(){var t=0;return this.conFields.forEach(function(e){t+=e.width||90}),t},fields:function(){return this.fieldsConfig.map(function(t){return t.field})}},created:function(){this.init()},mounted:function(){var t=this;window.setTimeout(function(){t.topMax=t.contentHeight+t.titleHeight-document.querySelector("#scroller").offsetHeight-document.querySelector("#scrollerBottom").offsetHeight-document.querySelector("#scrollLR").offsetHeight,t.leftMax=document.querySelector("#scrollLR").offsetWidth-3*document.querySelector("#scrollerRight").offsetWidth,t.leftMin=document.querySelector("#scrollerRight").offsetWidth+1}),this.DESC=this.desc,this.ORDERBY=this.orderby},methods:{cancelAll:function(){this.cancelQuery(),this.cancelSubscribe(),document.removeEventListener("keyup",this.keyupFunc),document.removeEventListener("keydown",this.keydownFunc),document.ondragover=null,document.ondrop=null,window.clearInterval(this.updateObjListInterval)},init:function(){var t=this;this.initData(),this.updateObjListInterval=window.setInterval(function(){t.initData()},5e3),this.keyupFunc=function(t){t.preventDefault()},this.keydownFunc=function(e){var i=e.keyCode,o=e.key;e.preventDefault(),t.keydown(i,o)},document.addEventListener("keyup",this.keyupFunc),document.addEventListener("keydown",this.keydownFunc),document.ondragover=function(t){t.preventDefault()},document.ondrop=function(t){t.preventDefault()}},active:function(t,e){var i=document.querySelector(".table-content").childNodes;e!==this.activeIndex&&(null!==this.activeIndex&&(i[this.activeIndex].style.backgroundColor=this.theme.tableContentBgColor,i[this.activeIndex].childNodes[0].style.backgroundColor=this.theme.tableContentBgColor,i[this.activeIndex].childNodes[1].style.backgroundColor=this.theme.tableContentBgColor),i[e].style.backgroundColor=this.theme.tableContentActiveBgColor,i[e].childNodes[0].style.backgroundColor=this.theme.tableContentActiveBgColor,i[e].childNodes[1].style.backgroundColor=this.theme.tableContentActiveBgColor,this.activeIndex=e)},hover:function(t,e){var i=this;this.activeIndex!==e&&(t.target.style.backgroundColor=this.theme.tableContentHoverBgColor,[].slice.call(t.target.childNodes).forEach(function(t){t.style.backgroundColor=i.theme.tableContentHoverBgColor}))},leave:function(t,e){var i=this;this.activeIndex!==e&&(t.target.style.backgroundColor=this.theme.tableContentBgColor,[].slice.call(t.target.childNodes).forEach(function(t){t.style.backgroundColor=i.theme.tableContentBgColor}))},drop:function(t){t.dataTransfer.dropEffect="move",t.preventDefault(),t.stopPropagation},dragStart:function(t){this.cursor="auto";var e=new Image;e.src="drag_image.png",t.dataTransfer.effectAllowed="move",t.dataTransfer.setDragImage(e,10,10);var i=t.target.getAttribute("name");this.dragItems=[].slice.call(document.querySelectorAll('span[name="'.concat(i,'"]')));var o=this.dragItems.originLeft=t.target.getBoundingClientRect().left;this.dragItems.clientX_s=t.clientX,this.dragItems.forEach(function(t,e){t.cloneItem=t.cloneNode(!0),t.cloneItem.style.position="fixed",t.cloneItem.style.height=t.offsetHeight+"px",t.cloneItem.style.top=t.parentElement.parentElement.offsetTop+"px",t.cloneItem.style.left=o+"px",t.cloneItem.style.opacity=.75,t.cloneItem.style.borderLeft="1px solid #dfe4ea",t.cloneItem.style.zIndex=10,t.appendChild(t.cloneItem)})},dragging:function(t){t.preventDefault(),t.dropEffect="move";var e=this.dragItems.originLeft+t.clientX-this.dragItems.clientX_s+"px";this.dragItems.forEach(function(t){t.cloneItem.style.left=e}),t.stopPropagation},dragEnd:function(t){var e=this.fieldsConfig.findIndex(function(e){return e.field===t.target.getAttribute("name")});t.preventDefault(),this.dragItems.forEach(function(t){t.removeChild(t.cloneItem)});var i=this.fixedFields.length+this.getCountX(t.target.offsetLeft+t.clientX-this.dragItems.clientX_s).count+1;if(e!==i){var o=JSON.parse($()(this.fieldsConfig)),n=o.splice(e,1)[0];i>e?o.splice(i-1,0,n):i<e&&o.splice(i,0,n),this.$emit("fieldsConfigChange",o),this.cursor="e-resize",this.dragItems=null}},mousewheel:function(t){var e=this,i=t;window.requestAnimationFrame(function(){var t=e.objList.length-e.count;e.start-=Math.round(i.wheelDelta/120),e.start=Math.min(t,e.start),e.start=Math.max(0,e.start),e.changeTopFromStart(),e.updateDataList()})},changeTopFromStart:function(){document.querySelector("#scroller").style.top=this.start/(this.objList.length-this.count+1)*(this.topMax-11)+11+"px"},widthChanging:function(t,e){var i=this,o=t.target.parentElement;o.setAttribute("draggable",!1),this.wideEdit=!0;var n=o.getBoundingClientRect().width,r=t.clientX,a=function(t){window.requestAnimationFrame(function(){i.wideEdit&&(i.fieldsConfig[e].width=n+t.clientX-r)})},s=function t(e){i.wideEdit=!1,o.setAttribute("draggable",!0),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",a,{passive:!0}),document.addEventListener("mouseup",s)},scrollingLR:function(t){var e=this,i=t.target,o=t.clientX-i.offsetLeft,n=function(t){var i=t.clientX-o;i=Math.max(e.leftMin,i),i=Math.min(e.leftMax,i),e.scrollLRLeft=i;var n=(i-e.leftMin)/(e.leftMax-e.leftMin)*(e.conWidth-e.conFields[e.conFields.length-1].width),r=e.getCountX(n);e.x=r.left,e.count_x=r.count},r=function t(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",n,{passive:!0}),document.addEventListener("mouseup",r)},getCountX:function(t){for(var e=0,i=0,o=0,n=0,r=this.conFields.length;n<r;n++){var a=this.conFields[n].width||90;if(!(e+a<=t)){o=t-e;break}e+=a,i++}return{count:i,left:e,remain:o}},scrolling:function(t){var e=this,i=t.target,o=t.clientY-i.offsetTop,n=function(t){var n=t.clientY-o;n=Math.max(11,n),n=Math.min(e.topMax,n);var r=n-11,a=e.start;e.start=Math.round(r/(e.topMax-11)*(e.objList.length-e.count+1));var s=e.objList.length-e.count;e.start=Math.min(s,e.start),e.start!==a&&e.updateDataList(),i.style.top=n+"px"},r=function t(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",n,{passive:!0}),document.addEventListener("mouseup",r)},initData:function(){var t=this;this.getObjList().then(function(e){t.objList=e,t.updateDataList()}).catch(function(t){console.log("large-list getObjList err: "+t)})},getObjList:function(){var t,e=this;return t=0===this.DESC?q()(this.objReqParam,{desc:!1,orderby:"JiaoYiDaiMa"}):q()(this.objReqParam,{desc:1===this.DESC,orderby:this.ORDERBY}),new n.a(function(i,o){e.dataQuery=e.$dzhyun.query("/stkdata",t,function(t){!t||t instanceof Error?o(t):i(t)})})},updateDataList:function(){var t=this;this.cancelSubscribe(),this.objArr=this.objList.slice(this.start,this.start+this.count).map(function(t){return t.Obj});var e={obj:this.objArr.join(","),field:this.fields};this.setDataFromCache(),this.dataSubscribe=this.$dzhyun.subscribe("/stkdata",e,function(e){if(e&&!(e instanceof Error)){if(1===e.length){var i=e[0];return i.lastData=t.cacheData[i.Obj],t.setCacheData(i),window.cacheTimer&&(window.clearTimeout(window.cacheTimer),window.cacheTimer=null),void(window.cacheTimer=window.setTimeout(function(){t.setDataFromCache()},1))}for(var o=0,n=e.length;o<n;o++){var r=e[o];t.setDataItem(r),t.setCacheData(r)}}})},setDataFromCache:function(){var t=this;this.objArr.forEach(function(e,i){var o=t.dataList.find(function(t){return t&&t.Obj===e}),n=t.cacheData[e];o&&n&&o.ZuiXinJia!==n.ZuiXinJia&&(n.ZuiXinJiaStyle=n.ZhangDieStyle=n.ZhangFuStyle="animation: twinkling".concat(o.ZuiXinJia>n.ZuiXinJia?"Green":"Red"," 1s ease-in 0s;")),t.$set(t.dataList,i,n||{})})},setDataItem:function(t){var e=this.objArr.findIndex(function(e){return e===t.Obj});this.$set(this.dataList,e,t)},setCacheData:function(t){this.cacheData[t.Obj]=t},keydown:function(t,e){var i,o=this,n=this.objList.length-this.count,r=this.start;switch(t){case 38:i=this.objArr.findIndex(function(t){return t===o.focusedObj}),i>0?this.focusedObj=this.objArr[i-1]:(this.start=Math.max(0,this.start-1),this.start!==r&&(this.changeTopFromStart(),this.updateDataList()),0===i&&(this.focusedObj=this.objArr[0]));break;case 40:i=this.objArr.findIndex(function(t){return t===o.focusedObj}),i>-1&&i<this.objArr.length-1?this.focusedObj=this.objArr[i+1]:(this.start=Math.min(n,this.start+1),this.start!==r&&(this.changeTopFromStart(),this.updateDataList()),i===this.objArr.length-1&&(this.focusedObj=this.objArr[this.objArr.length-1]));break;case 33:this.start=Math.max(0,this.start-this.count),this.start!==r&&(this.changeTopFromStart(),this.updateDataList());break;case 34:this.start=Math.min(n,this.start+this.count),this.start!==r&&(this.changeTopFromStart(),this.updateDataList());break;case 35:this.start=n,this.start!==r&&(this.changeTopFromStart(),this.updateDataList());break;case 36:this.start=0,this.start!==r&&(this.changeTopFromStart(),this.updateDataList());break;case 37:if(this.count_x>0){var a=this.x,s=this.getCountX(a);s.remain>0?this.x=s.x:this.x=s.left-(this.conFields[this.count_x-1].width||90),this.count_x--,this.scrollLRLeft=this.x/(this.conWidth-this.conFields[this.conFields.length-1].width)*(this.leftMax-this.leftMin)+this.leftMin}break;case 39:if(this.count_x+1<this.conFields.length){var l=this.x,c=this.getCountX(l);this.x=c.left+(this.conFields[this.count_x].width||90),this.count_x++,this.scrollLRLeft=this.x/(this.conWidth-this.conFields[this.conFields.length-1].width)*(this.leftMax-this.leftMin)+this.leftMin}break;default:break}},mouseup:function(t){var e=this,i=t.target.parentElement.parentElement.getAttribute("name");this.focusedObj=i,2==t.button?this.$emit("right-click",i):(this["timer"+this.i]=(new Date).getTime(),this.i+=1,this.timer1&&this.timer2&&this.timer2-this.timer1<300?(window.mouseup_timer&&(window.clearTimeout(window.mouseup_timer),window.mouseup_timer=null),this.$emit("dbl-click",i),this.i=1,this.timer1=void 0,this.timer2=void 0):this.timer1&&void 0===this.timer2&&(window.mouseup_timer=window.setTimeout(function(){e.$emit("left-click",i),e.i=1,window.clearTimeout(window.mouseup_timer),window.mouseup_timer=null,e.timer1=void 0,e.timer2=void 0},300)))},reSort:function(){var t=Object(P["a"])(regeneratorRuntime.mark(function t(e){var i,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.target.getAttribute("name"),this.ORDERBY!==i){t.next=14;break}t.t0=this.DESC,t.next=0===t.t0?5:1===t.t0?7:2===t.t0?9:11;break;case 5:return this.DESC=1,t.abrupt("break",12);case 7:return this.DESC=2,t.abrupt("break",12);case 9:return this.DESC=0,t.abrupt("break",12);case 11:return t.abrupt("break",12);case 12:t.next=16;break;case 14:this.ORDERBY=i,this.DESC=1;case 16:return t.next=18,this.initData();case 18:o=this.start,this.start=0,this.start!==o&&(this.changeTopFromStart(),this.updateDataList());case 21:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),cancelQuery:function(){this.dataQuery&&(this.dataQuery.cancel(),this.dataQuery=null)},cancelSubscribe:function(){this.dataSubscribe&&(this.dataSubscribe.cancel(),this.dataSubscribe=null)}},activated:function(){this.init()},deactivated:function(){this.cancelAll()},beforeDestroy:function(){this.cancelAll()}},ht=ct,ut=(i("4f63"),Object(L["a"])(ht,I,W,!1,null,null,null)),dt=ut.exports;dt.install=function(t){t.component(dt.name,dt)};var ft=dt,mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"small-list-wrap"},[i("div",{staticClass:"small-list",attrs:{id:"smalist"}},[t.showTitle?i("div",{staticClass:"smalist-title",style:{backgroundColor:t.theme.tableTitleBgColor,color:t.theme.tableTitleColor,borderBottom:"1px solid "+t.theme.tableTitleBdColor}},t._l(t.fields,function(e,o){return i("span",{key:o,staticClass:"th",style:"width: "+100/t.fields.length+"%;border-right: 1px solid "+t.theme.tableTitleBdColor+";text-align:"+t.titleAlign,attrs:{name:e},on:{click:t.reSort}},[t._v("\n        "+t._s(t.title[e])+"\n        "),t.ORDERBY===e?i("i",{class:"iconfont icon-arrow-"+(2===t.DESC?"up":"")+(1===t.DESC?"down":"")}):t._e()])}),0):t._e(),i("div",{staticClass:"smalist-content",style:{color:t.theme.tableContentColor,backgroundColor:t.theme.tableContentBgColor,height:t.showTitle?"calc(100%-30px)":"100%"},attrs:{id:"smallcontent"},on:{"&mousewheel":function(e){return t.mousewheel(e)}}},[t.dataList.length?t._l(t.dataList,function(e,o){return i("div",{key:o,staticClass:"smalist-item",style:{borderBottom:"1px solid "+t.theme.tableContentBdColor,backgroundColor:t.focusedObj===e.Obj?t.theme.tableContentActiveBgColor:t.hoverObj===e.Obj?t.theme.tableContentHoverBgColor:t.theme.tableContentBgColor,height:t.itemHeight+"px",lineHeight:t.itemHeight+"px"},attrs:{name:e.Obj},on:{contextmenu:function(t){t.preventDefault()},mouseup:function(i){return t.mouseup(i,e.Obj)},mouseover:function(i){t.hoverObj=e.Obj},mouseleave:function(e){t.hoverObj=""}}},[t._t("default",t._l(t.fields,function(o,n){return i("span",{key:n,style:e[o+"Style"]+";width: "+100/t.fields.length+"%;border-right: 1px solid "+t.theme.tableContentBdColor},[t._v("\n              "+t._s(t.format(e,o))+"\n            ")])}),{data:e,itemHeight:t.itemHeight,focusedObj:t.focusedObj})],2)}):[t._t("loading")]],2)]),t.showScroller?i("div",{staticClass:"table-scroller",style:{backgroundColor:t.theme.scrollerBgColor2,color:t.theme.scrollerBgColor2}},[i("div",{staticClass:"scroller-top",style:{backgroundColor:t.theme.scrollerBgColor1}},[i("i",{style:{borderColor:"transparent transparent"+t.theme.scrollerBgColor3+" transparent"}})]),i("div",{staticClass:"scroller-bottom",style:{backgroundColor:t.theme.scrollerBgColor1},attrs:{id:"scrollerBottom"}},[i("i",{style:{borderColor:t.theme.scrollerBgColor3+" transparent transparent transparent"}})]),i("div",{staticClass:"scroller-scrolling",style:{backgroundColor:t.theme.scrollerBgColor1},attrs:{id:"scroller"},on:{mousedown:t.scrolling}})]):t._e()])},gt=[],bt={name:"small-list",data:function(){return{start:0,count:0,itemHeight:0,objList:[],dataList:[],cacheData:{},activeIndex:-1,focusedObj:"",hoverObj:"",objArr:[],DESC:0,ORDERBY:"",i:1}},props:{theme:Object,title:Object,titleAlign:{type:String,validator:function(t){return it.oneOf(t,["left","center","right"])},default:"center"},objReqParam:{type:Object,default:function(){return{gql:"block=市场/沪深市场/沪深A股",field:"ZhongWenJianCheng"}}},desc:{type:Number,validator:function(t){return it.oneOf(t,[0,1,2])},default:0},orderby:{type:String,default:"ZhangFu"},fields:{type:Array,default:function(){return["Obj","ZhongWenJianCheng","ZhangDie"]}},showTitle:{type:Boolean,default:!0},showScroller:{type:Boolean,default:!0},height:{type:Number,default:30},precision:{type:Number,default:2}},created:function(){this.init()},mounted:function(){var t=this;window.setTimeout(function(){var e=document.querySelector("#smallcontent").offsetHeight;t.showTitle&&(e-=30),document.querySelector("#smallcontent").style.height=e+"px",t.count=Math.ceil(e/t.height),t.itemHeight=e/t.count,t.showScroller&&(t.topMax=document.querySelector("#smalist").offsetHeight-document.querySelector("#scroller").offsetHeight-(document.querySelector("#scrollerBottom").offsetHeight+1),t.topMin=document.querySelector("#scrollerBottom").offsetHeight+1)},20),this.DESC=this.desc,this.ORDERBY=this.orderby},methods:{init:function(){var t=this;this.initData(),this.updateObjListInterval=window.setInterval(function(){t.initData()},5e3),this.keyupFunc=function(t){t.preventDefault()},this.keydownFunc=function(e){e.preventDefault(),t.keydown(e.keyCode)},document.addEventListener("keyup",this.keyupFunc),document.addEventListener("keydown",this.keydownFunc)},format:function(t,e){if(!t||"{}"===$()(t)||!e)return"--";var i=t[e];switch(e){case"Obj":i=(i||"").slice(2)||"--";break;case"ZhongWenJianCheng":break;case"ZuiXinJia":case"ZhangFu":case"FenZhongZhangFu5":i=this.formatPrice(i,this.precision);break;case"ZhangDie":i=this.formatPrice(i,this.precision,!0);break;default:i=this.formatPrice(i);break}return i},mouseup:function(t){var e=this,i=t.target.parentElement.getAttribute("name");this.focusedObj=i,2==t.button?this.$emit("right-click",i):(this["timer"+this.i]=(new Date).getTime(),this.i+=1,this.timer1&&this.timer2&&this.timer2-this.timer1<300?(window.mouseup_timer&&(window.clearTimeout(window.mouseup_timer),window.mouseup_timer=null),this.$emit("dbl-click",i),this.i=1,this.timer1=void 0,this.timer2=void 0):this.timer1&&void 0===this.timer2&&(window.mouseup_timer=window.setTimeout(function(){e.$emit("left-click",i),e.i=1,window.clearTimeout(window.mouseup_timer),window.mouseup_timer=null,e.timer1=void 0,e.timer2=void 0},300)))},reSort:function(t){var e=t.target.getAttribute("name");if(this.ORDERBY===e)switch(this.DESC){case 0:this.DESC=1;break;case 1:this.DESC=2;break;case 2:this.DESC=0;break;default:break}else this.ORDERBY=e,this.DESC=1;this.initData()},initData:function(){var t=this;this.getObjList().then(function(e){t.objList=e,t.updateDataList()}).catch(function(t){console.log("small-list getObjList err: "+t)})},getObjList:function(){var t,e=this;return t=0===this.DESC?q()(this.objReqParam,{desc:!1,orderby:"JiaoYiDaiMa"}):q()(this.objReqParam,{desc:1===this.DESC,orderby:this.ORDERBY}),new n.a(function(i,o){e.dataQuery=e.$dzhyun.query("/stkdata",t,function(t){!t||t instanceof Error?o(t):i(t)})})},updateDataList:function(){var t=this;this.cancelSubscribe(),this.objArr=this.objList.slice(this.start,this.start+this.count).map(function(t){return t.Obj});var e={obj:this.objArr.join(","),field:this.fields};this.setDataFromCache(),this.dataSubscribe=this.$dzhyun.subscribe("/stkdata",e,function(e){if(e&&!(e instanceof Error)){if(1===e.length)return t.setCacheData(e[0]),window.cacheTimer&&(window.clearTimeout(window.cacheTimer),window.cacheTimer=null),void(window.cacheTimer=window.setTimeout(function(){t.setDataFromCache()},100));for(var i=0,o=e.length;i<o;i++){var n=e[i];t.setDataItem(n),t.setCacheData(n)}}})},setDataFromCache:function(){var t=this;this.objArr.forEach(function(e,i){var o=t.dataList.find(function(t){return t&&t.Obj===e}),n=t.cacheData[e];o&&n&&o.ZuiXinJia!==n.ZuiXinJia&&(n.ZuiXinJiaStyle=n.ZhangDieStyle=n.ZhangFuStyle="animation: twinkling".concat(o.ZuiXinJia>n.ZuiXinJia?"Green":"Red"," 1s ease-in 0s;")),t.$set(t.dataList,i,n||{})})},setDataItem:function(t){var e=this.objArr.findIndex(function(e){return e===t.Obj});this.$set(this.dataList,e,t)},setCacheData:function(t){this.cacheData[t.Obj]=t},cancelQuery:function(){this.dataQuery&&(this.dataQuery.cancel(),this.dataQuery=null)},cancelSubscribe:function(){this.dataSubscribe&&(this.dataSubscribe.cancel(),this.dataSubscribe=null)},mousewheel:function(t){var e=this,i=this.objList.length-this.count;this.start-=Math.round(t.wheelDelta/120),this.start=Math.min(i,this.start),this.start=Math.max(0,this.start),this.changeTopFromStart(),this.updateDataList(),-1!==this.activeIndex&&(document.querySelector(".smalist-content").childNodes[this.activeIndex].style.backgroundColor=this.theme.tableContentBgColor,this.activeIndex=this.objArr.findIndex(function(t){return t.Obj===e.focusedObj}),-1!=this.activeIndex&&(document.querySelector(".smalist-content").childNodes[this.activeIndex].style.backgroundColor=this.theme.tableContentActiveBgColor))},changeTopFromStart:function(){if(this.showScroller){var t=document.querySelector("#scrollerBottom").offsetHeight;document.querySelector("#scroller").style.top=this.start/(this.objList.length-this.count+1)*(this.topMax-(t+1))+(t+1)+"px"}},scrolling:function(t){var e=this,i=t.target,o=t.clientY-i.offsetTop,n=function(t){var n=t.clientY-o;n=Math.max(e.topMin,n),n=Math.min(e.topMax,n);var r=n-e.topMin,a=e.start,s=e.objList.length-e.count;e.start=Math.round(r/(e.topMax-e.topMin)*s),e.start=Math.min(s,e.start),e.start!==a&&e.updateDataList(),i.style.top=n+"px"},r=function t(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)};document.addEventListener("mousemove",n,{passive:!0}),document.addEventListener("mouseup",r)},changeActiveItem:function(t){var e=document.querySelector(".smalist-content").childNodes;t!==this.activeIndex&&(-1!==this.activeIndex&&(e[this.activeIndex].style.backgroundColor=this.theme.tableContentBgColor),e[t].style.backgroundColor=this.theme.tableContentActiveBgColor,this.activeIndex=t)},keydown:function(t){var e,i=this,o=this.objList.length-this.count,n=this.start;switch(t){case 38:e=this.objArr.findIndex(function(t){return t===i.focusedObj}),e>0?this.focusedObj=this.objArr[e-1]:(this.start=Math.max(0,this.start-1),this.start!==n&&(this.changeTopFromStart(),this.updateDataList()),0===e&&(this.focusedObj=this.objArr[0]));break;case 40:e=this.objArr.findIndex(function(t){return t===i.focusedObj}),e>-1&&e<this.objArr.length-1?this.focusedObj=this.objArr[e+1]:(this.start=Math.min(o,this.start+1),this.start!==n&&(this.changeTopFromStart(),this.updateDataList()),e===this.objArr.length-1&&(this.focusedObj=this.objArr[this.objArr.length-1]));break;case 33:this.start=Math.max(0,this.start-this.count),this.start!==n&&(this.changeTopFromStart(),this.updateDataList());break;case 34:this.start=Math.min(o,this.start+this.count),this.start!==n&&(this.changeTopFromStart(),this.updateDataList());break;case 35:this.start=o,this.start!==n&&(this.changeTopFromStart(),this.updateDataList());break;case 36:this.start=0,this.start!==n&&(this.changeTopFromStart(),this.updateDataList());break;default:break}},formatPrice:it.formatPrice,formatRatio:it.formatRatio,formatStockText:it.formatStockText,formatColor:it.formatColor},activated:function(){this.init()},deactivated:function(){this.cancelQuery(),this.cancelSubscribe(),window.clearInterval(this.updateObjListInterval),document.removeEventListener("keyup",this.keyupFunc),document.removeEventListener("keydown",this.keydownFunc)},beforeDestroy:function(){this.cancelQuery(),this.cancelSubscribe(),window.clearInterval(this.updateObjListInterval),document.removeEventListener("keyup",this.keyupFunc),document.removeEventListener("keydown",this.keydownFunc)}},pt=bt,vt=(i("dde6"),Object(L["a"])(pt,mt,gt,!1,null,null,null)),Ct=vt.exports;Ct.install=function(t){t.component(Ct.name,Ct)};var wt=Ct,yt=[ft,wt],xt=function t(e){t.installed||(yt.map(function(t){return e.component(t.name,t)}),e.prototype.$Utils=it,e.Utils=it)};"undefined"!==typeof window&&window.Vue&&xt(window.Vue);var kt={install:xt,largeList:ft,smallList:wt},St=i("010e"),jt=i.n(St);i("4c94");r["default"].use(kt),r["default"].config.productionTip=!1,r["default"].use(jt.a,{address:"ws://gw.yundzh.com/ws",dataType:"json",token:n.a.resolve("00000003:1557195508:2b9ae34f27fa9b855d585eaad97f8c73ccb13bd3")}),new r["default"]({render:function(t){return t(R)}}).$mount("#app")},dde6:function(t,e,i){"use strict";var o=i("f921"),n=i.n(o);n.a},e278:function(t,e,i){},e9f1:function(t,e,i){"use strict";var o=i("e278"),n=i.n(o);n.a},f921:function(t,e,i){}});
//# sourceMappingURL=index.755b9b3c.js.map